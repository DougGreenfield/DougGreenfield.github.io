<html>
<head>
  <title>Arlington Bicycle Map</title>
  <meta charset="utf-8" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet-src.js"></script> 
    <script src="leaflet-providers.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <style>
      #map{ height: 100%}
  </style>
</head>
<body>
<div id="header" style="position:absolute;z-index:10;margin-left:40px;margin-top:2px;background-color:#eee;padding:4px;opacity:0.5;"><span><b><font size="26">Arlington Bicycling Infrastructure&nbsp;</font></b></span><br/></div>
<div id="map" style="z-index:0;"></div>
    
  <script>
  var map = L.map('map').setView([42.421,-71.17], 14);
       
L.tileLayer.provider('MapBox', {
    id: 'mapbox.streets',
    accessToken: 'pk.eyJ1IjoiZG91Z2ciLCJhIjoiNVJjTjlxRSJ9.GCoXzuL5P0ly6jHXTC4NEQ',
    opacity: 0.6
    
}).addTo(map);
      
      
      // load geoJSON - get background first
      
    $.getJSON("https://raw.githubusercontent.com/DougGreenfield/DougGreenfield.github.io/master/ArlingtonBike/MassBk.geojson", function(data){
          L.geoJson(data, {
              style: function(feature) {
                return {color: "#111", weight: 1, fillColor: "#111", fillOpacity: .2} }
               
         // return feature.properties.TOWN !== "NEWTON", {color: "#999", weight: 1, fillcolor: "#666", fillOpacity: .2}
          //    
                
               
          }).addTo(map);
          });
      
      //cycling info
      $.getJSON("https://raw.githubusercontent.com/DougGreenfield/DougGreenfield.github.io/master/ArlingtonBike/PavementMarkings.geojson", function(data){
          
      L.geoJson(data, {
    style: function (feature) {
        switch(feature.properties.TYPE){
            case "Lane":
                return {color: "#f21212", weight: 3};
                break;
            case "Sharrow":
                return {color: "#f49d31", weight: 2};
                break;        
                
        }
    }
    }).addTo(map);
          
          
});

 $.getJSON("https://raw.githubusercontent.com/DougGreenfield/DougGreenfield.github.io/master/ArlingtonBike/Bikeways.geojson", function(data){
          
      L.geoJson(data, {
                             
                                        
                style: function(feature) {
        switch(feature.properties.NAME){
            case "Minuteman Bikeway":
                return {color: "#0050ec", weight: 5};
                break;
            case "Alewife Brook Greenway":
                return {color: "#1c1", weight: 4};
                break;
            default:
                return {color: "#6bd2f0", weight: 4};
                break;        
                
        }},
          filter: function(feature, layer){
          return feature.properties.FEATTYPE === "Trail";
    },
               
      }).addTo(map);
    })
    
   //Boardwalks   
      $.getJSON("https://raw.githubusercontent.com/DougGreenfield/DougGreenfield.github.io/master/ArlingtonBike/Bikeways.geojson", function(data){
          
      L.geoJson(data, {
                             
                                        
                style: function(feature) {
        switch(feature.properties.NAME){
            case "Alewife Brook Greenway":
                return {color: "#dfba33", weight: 4};
                break;       
                
        }},
          filter: function(feature, layer){
          return feature.properties.FEATTYPE === "Trail Boardwalk";
    },
               
      }).addTo(map);
    })
          
//});
      
 $.getJSON("https://raw.githubusercontent.com/DougGreenfield/DougGreenfield.github.io/master/ArlingtonBike/poi.geojson",function(data){
//L.geoJson function is used to parse geojson file and load on to map
    var symb = 'museum'
     L.geoJson(data,{
      pointToLayer: function(feature,latlng){
       /**  switch (feature.properties.Type) {
                  case "School":
                  return "school";
                  break;
                  
                                         } **/
	      var objIcon = L.icon({
      iconUrl: 'svg/' + feature.properties.Type +'.svg',
      iconSize: [18,18]
    });
        var marker = L.marker(latlng,{icon: objIcon});
       // marker.bindPopup(feature.properties.NAME + ', ' + feature.properties.ST+ '<br/>' + feature.properties.Object);
        return marker;
      }
        
    }).addTo(map);
    
   /** L.geoJson(data,{
      pointToLayer: function(feature,latlng){
	      var objIcon = L.icon({
      //iconUrl: 'SVG/' + feature.properties.Object +'.svg',
              
             
          switch (feature.properties.Type) {
                  case "School":
              //  return {iconUrl: 'svg/school.svg'};
               return{symb: "school"};
                  break;
            },
              
    iconUrl: 'svg/'+symb+'.svg',
      iconSize: [18,18]
    });
        var marker = L.marker(latlng,{icon: objIcon});
     //   marker.bindPopup(feature.properties.NAME + ', ' + feature.properties.ST+ '<br/>' + feature.properties.Object);
        return marker;
      }
        
    }).addTo(map); **/
});     
      
    
      
  </script>
      
 </body>
</html>